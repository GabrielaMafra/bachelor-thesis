\begin{figure}[H]
	\centering
  {\fbox{
      $\begin{array}{c}

         \fbox{$\Gamma\vdash_d \FANCYA \TEq (\overline{c}, \overline{a})$} \\
         \begin{array}{c}
         \begin{minipage}[t]{0.8\textwidth}
           \infer[\text{\tt (CALL)}]{
             \begin{array}{c}
               \Gamma\vdash_d NomeAcao(v_0, \dots, v_n)
               \TEq\\ (\{\texttt{\small nome\_acao\_condition(variables, $\ttx_0$, ...,
               $\ttx_n$)}\},\\
               \{\texttt{\small nome\_acao(variables,
                 $\ttx_0$, ..., $\ttx_n$)}\})
             \end{array}
           }
           {
             \begin{array}{c}
               \Gamma\vdash_v v_0 \TEq x_0\\
               \vdots\\
               \Gamma\vdash_v v_n \TEq x_n
             \end{array}
           }
         \end{minipage}\vspace{.7cm}\\

           \begin{minipage}[T]{0.2\textwidth}
           \infer[\text{\tt (COND)}]{
             \Gamma\vdash_d P \TEq (\{c\},\ \{\})
           }
           {
             \Gamma\vdash_p P \TEq c
           }\vspace*{.7cm}

           \infer[\text{\tt (ACT)}]{
             \Gamma\vdash_d A \TEq (\{\},\ \{a\})
           }
           {
             \Gamma\vdash_a A \TEq a
           }

         \end{minipage}\hspace*{.7cm}

         \begin{minipage}[B]{0.5\textwidth}
           \infer[\text{\tt (AND)}]{
               \Gamma\vdash_d
               \begin{array}{c}
                 \land\ \FANCYA_0 \\
                 \vdots \\
                 \land\ \FANCYA_n
               \end{array}
               \TEq (\overline{c_o} \cup \dots \cup \overline{c_n},\ \overline{a_o} \cup \dots \cup \overline{a_n})
           }
           {
             \begin{array}{c}
               \Gamma\vdash_d \FANCYA_0 \TEq (\overline{c_0},\ \overline{a_0})\\
               \vdots\\
               \Gamma\vdash_d \FANCYA_n \TEq (\overline{c_n},\ \overline{a_n})
             \end{array}
           }
         \end{minipage}\vspace{.7cm}\\

           \begin{minipage}[t]{0.8\textwidth}
             \infer[\text{\tt (OR)}]{
                 \begin{array}{l}
                   \Gamma\vdash_d
                   \begin{array}{c}
                     \lor\ \FANCYA_0 \\
                     \vdots \\
                     \lor\ \FANCYA_n
                   \end{array}
                   \TEq (\{\},\ \{\text{\tt decide\_action}(l)\})
                 \end{array}
               }
               {
                 \begin{array}{c}
                   \Gamma\vdash_d \FANCYA_0 \TEq (c_{00}, \dots, c_{0n},\ a_{00}, \dots, a_{0n})\\
                   \vdots\\
                   \Gamma\vdash_d \FANCYA_n \TEq (c_{n0}, \dots, c_{nn},\ a_{n0}, \dots, a_{nn})\\
               \end{array}
             }
         \end{minipage}\\

           \begin{minipage}[t]{0.8\textwidth}
             \hspace*{2cm}
             \progfigmed{
               $onde\ l =$
               [\\
               ~~\%\{\\
               ~~~~action: show([$a_{00}, \dots, a_{0n}$])\\
               ~~~~condition: $c_{00}$\ and\ $\dots$\ and\ $c_{0n}$\\
               ~~~~state: Map.merge($a_{00}$, Map.merge($\dots$, $a_{0n}$))\\
               ~~\},\\
               ~~$\dots$,\\
               ~~\%\{\\
               ~~~~action: show([$a_{n0}, \dots, a_{nn}$])\\
               ~~~~condition: $c_{n0}$\ and\ $\dots$\ and\ $c_{nn}$\\
               ~~~~state: Map.merge($a_{n0}$, Map.merge($\dots$, $a_{nn}$))\\
               ~~\}\\
               ]\\
             }\vspace*{-1cm}

           \end{minipage}
         \end{array}
			\end{array}$
		}}
		\caption{Tradução intermediária de definições}
		\label{fig:definitions}
	\end{figure}

\begin{figure}[h]
	\centering
  {\fbox{
      $\begin{array}{c}

         \fbox{$\Gamma\vdash_p P \TEq c$} \\ \\

         \begin{array}{c}
           
         \begin{minipage}[t]{0.25\textwidth}
           \infer[\text{\tt (PRED-EQ)}]{
               \Gamma\vdash_p v_x = v_y \TEq \texttt{x == y}
           }
           {
             \Gamma\vdash_v v_x \TEq x\hspace*{.4cm}
             \Gamma\vdash_v v_y \TEq y
           }
         \end{minipage}\hspace*{.2cm}
           
         \begin{minipage}[t]{0.25\textwidth}
           \infer[\text{\tt (PRED-NEQ)}]{
               \Gamma\vdash_p v_x \noteq v_y \TEq \texttt{x != y}
           }
           {
             \Gamma\vdash_v v_x \TEq x\hspace*{.4cm}
             \Gamma\vdash_v v_y \TEq y
           }
         \end{minipage}\vspace*{.7cm}\\

         \begin{minipage}[t]{0.4\textwidth}
           \infer[\text{\tt (PRED-IN)}]{
               \Gamma\vdash_p v_e \in v_l \TEq \texttt{Enum.member?($l$,\ $e$)}
           }
           {
             \Gamma\vdash_v v_e \TEq e\hspace*{.4cm}
             \Gamma\vdash_v v_l \TEq l
           }
         \end{minipage}\\
         \end{array}\vspace*{1cm}\\

         \fbox{$\Gamma\vdash_a A \TEq a$} \\ \\

         \begin{array}{c}
           
         \begin{minipage}[t]{0.6\textwidth}
           \infer[\text{\tt (ACT-UNCH)}]{
         \begin{array}{c}
             \Gamma\vdash_a \UNCHANGED \langle I_0, \dots, I_n \rangle \TEq\\
             \texttt{\%\{ $I_0$:\ variables[:$I_0$]$,\ \dots,\ I_n$:\ variables[:$I_n$] \}}
         \end{array}
           }
           {
           }
         \end{minipage}\vspace*{.7cm}\\

         \begin{minipage}[t]{0.4\textwidth}
           \infer[\text{\tt (ACT-PRIM)}]{
               \Gamma\vdash_a I' = v \TEq \texttt{\%\{ $I$:\ $x$ \}}
           }
           {
             \Gamma\vdash_v v \TEq x
           }
         \end{minipage}\\
         \end{array}
			\end{array}$
		}}
		\caption{Tradução de predicados e ações}
		\label{fig:t-pred-act}
	\end{figure}

  \begin{figure}[h]
	\centering
  {\fbox{
      $\begin{array}{c}

         \fbox{$\Gamma\vdash_v v \TEq x$} \\ \\

         \begin{array}{c}
           
         \begin{minipage}[t]{0.25\textwidth}
           \infer[\text{\tt (VAL-PARAM)}]{
               \Gamma\vdash_v I \TEq I
           }
           {
             \{I : param\} \in \Gamma
           }
         \end{minipage}\hspace*{.3cm}
            
         \begin{minipage}[t]{0.25\textwidth}
           \infer[\text{\tt (VAL-VAR)}]{
               \Gamma\vdash_v I \TEq \texttt{variables[:$I$]}
           }
           {
             \{I : param\} \notin \Gamma\hspace*{.6cm}
             \{I : const\} \notin \Gamma
           }
         \end{minipage}\vspace*{.7cm}\\
           
         \begin{minipage}[t]{0.25\textwidth}
           \infer[\text{\tt (VAL-CONST)}]{
             \Gamma\vdash_v I \TEq \texttt{@I}
           }
           {
             \begin{array}{c}
             \{I : const\} \in \Gamma\\
             \{M : module\} \notin \Gamma
             \end{array}
           }
         \end{minipage}\hspace*{.2cm}
           
         \begin{minipage}[t]{0.25\textwidth}
           \infer[\text{\tt (VAL-ATTR)}]{
             \Gamma\vdash_v I \TEq \texttt{M.I}
           }
           {
             \begin{array}{c}
             \{I : const\} \in \Gamma\\
             \{M : module\} \in \Gamma
             \end{array}
           }
         \end{minipage}\vspace*{.7cm}\\

         \begin{minipage}[t]{0.4\textwidth}
           \infer[\text{\tt (SET-LIT)}]{
             \Gamma\vdash_v \{v_0, \dots, v_n\} \TEq \texttt{MapSet.new([$x_0, \dots, x_n$])}
           }
           {
             \Gamma\vdash_v v_0 \TEq x_o\ \dots\ \Gamma\vdash_v v_n \TEq x_n
           }
         \end{minipage}\vspace*{.7cm}\\
           
          \begin{minipage}[t]{0.4\textwidth}
           \infer[\text{\tt (SET-UNION)}]{
             \Gamma\vdash_v S_{a} \cup S_{b} \TEq \texttt{MapSet.union($s_a$,\ $s_b$)}
           }
           {
             \Gamma\vdash_v S_{a} \TEq s_a\hspace*{.4cm}
             \Gamma\vdash_v S_{b} \TEq s_b
           }
         \end{minipage}\vspace*{.7cm}\\

         \begin{minipage}[t]{0.4\textwidth}
           \infer[\text{\tt (REC-LIT)}]{
             \Gamma\vdash_v [k_0 \mapsto v_{o}, \dots, k_n \mapsto v_{n}] \TEq
             \texttt{\%\{ $k_0$:\ $x_0, \dots, k_n$:\ $x_n$ \}}
           }
           {
             \Gamma\vdash_v v_0 \TEq x_o\ \dots\ \Gamma\vdash_v v_n \TEq x_n
           }
         \end{minipage}\vspace*{.7cm}\\

         \begin{minipage}[t]{0.4\textwidth}
           \infer[\text{\tt (REC-EXCEPT)}]{
             \Gamma\vdash_v [I \EXCEPT ![k] = v] \TEq
             \texttt{Map.put($i, k, x$)}
           }
           {
             \Gamma\vdash_v v \TEq x\hspace*{.4cm}
             \Gamma\vdash_v I \TEq i
           }
         \end{minipage}\vspace*{.7cm}\\

           \begin{minipage}[t]{0.4\textwidth}
           \infer[\text{\tt (REC-INDEX)}]{
             \Gamma\vdash_v I[k] \TEq \texttt{$i$[$k$]}
           }
           {
             \Gamma\vdash_v I \TEq i
           }
         \end{minipage}\vspace*{.7cm}\\
         \end{array}
			\end{array}$
		}}
		\caption{Tradução de valores}
		\label{fig:t-specification}
	\end{figure}
  
